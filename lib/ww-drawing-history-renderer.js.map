{"version":3,"sources":["ww-drawing-history-renderer.js"],"names":[],"mappings":";;;;;;;;;;;;;;IAIM,wBAAwB;AACf,aADT,wBAAwB,CACd,OAAO,EAAE,OAAO,EAA4B;YAA1B,UAAU,gCAAC,CAAC;YAAE,QAAQ,gCAAC,CAAC;;8BADpD,wBAAwB;;AAEtB,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,YAAI,CAAC,SAAS,GAAG,UAAU,CAAC;AAC5B,YAAI,CAAC,OAAO,GAAG,QAAQ,CAAC;AACxB,YAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;;AAE3B,YAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;KAC9D;;iBATC,wBAAwB;;eAmBb,uBAAC,OAAO,EAAE;AACnB,gBAAI,IAAI,CAAC,KAAK,EAAE;AACZ,oBAAI,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClC,oBAAI,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClC,oBAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACjC,MAAM;AACH,uBAAO,CAAC,GAAG,qCAAqC,CAAC;aACpD;SACJ;;;eAEY,yBAAG;;;AACZ,gBAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,OAAO,EAAI;AAChD,sBAAK,aAAa,CAAC,OAAO,CAAC,CAAC;aAC/B,CAAC,CAAC;SACN;;;eAEwB,mCAAC,QAAQ,EAAE;;AAEhC,gBAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,CAAC;SACpE;;;eAEyB,oCAAC,UAAU,EAAE,QAAQ,EAAE;;AAE7C,mBAAO,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,UAAU,EAAE,QAAQ,CAAC,EAAE;AACrE,oBAAI,CAAC,aAAa,CAAC,IAAI,CAAC,kBAAkB,CAAC,eAAe,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC;aACrF;;AAED,gBAAI,CAAC,IAAI,GAAG,QAAQ,CAAC;SACxB;;;aApCY,aAAC,KAAK,EAAE;AACjB,gBAAI,CAAC,KAAK,GAAG,KAAK,CAAC;SACtB;;;aAEQ,eAAG;AACR,mBAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;SAC7C;;;WAjBC,wBAAwB;;;qBAkDf,wBAAwB","file":"ww-drawing-history-renderer.js","sourcesContent":["/**\n * Created by andrew on 8/13/15.\n */\n\nclass WwDrawingHistoryRenderer {\n    constructor(history, context, start_time=0, end_time=0) {\n        this.history = history;\n        this.context = context;\n        this.startTime = start_time;\n        this.endTime = end_time;\n        this.time = this.startTime;\n\n        this.mergedCommandsUnit = this.history.concatAllCommands();\n    }\n\n    set testBrush(brush) {\n        this.brush = brush;\n    }\n\n    get ended() {\n        return !this.mergedCommandsUnit.hasNext();\n    }\n\n    renderCommand(command) {\n        if (this.brush) {\n            this.brush.x = command.location.x;\n            this.brush.y = command.location.y;\n            this.brush.draw(this.context);\n        } else {\n            console.log(`renderCommand: brush is undefined`);\n        }\n    }\n\n    renderHistory() {\n        this.mergedCommandsUnit.commands.forEach(command => {\n            this.renderCommand(command);\n        });\n    }\n\n    renderHistoryWithDuration(duration) {\n        //console.log(`renderHistoryWithDuration: ${duration}, time: ${this.time}`);\n        this.renderHistoryWithTimeRange(this.time, this.time + duration);\n    }\n\n    renderHistoryWithTimeRange(start_time, end_time) {\n\n        while (this.mergedCommandsUnit.hasNextInTimeRange(start_time, end_time)) {\n            this.renderCommand(this.mergedCommandsUnit.nextInTimeRange(start_time, end_time));\n        }\n\n        this.time = end_time;\n    }\n}\n\nexport default WwDrawingHistoryRenderer;\n"],"sourceRoot":"/source/"}