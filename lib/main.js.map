{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["/**\n * Created by andrew on 7/7/15.\n */\n\nimport Point from './point';\nimport getTimer from './get-timer';\nimport WwSprite from './ww-sprite';\nimport WwBrush from './ww-brush';\nimport WwDrawingHistoryBrushCommand from './ww-drawing-history-brush-command';\nimport WwDeviceInfo from './ww-device-info';\nimport WwDrawingHistoryUnit from './ww-drawing-history-unit';\nimport WwDrawingBrushManager from './ww-drawing-brush-manager';\nimport WwDrawingHistory from './ww-drawing-history.js';\nimport WwDrawingHistoryRenderer from './ww-drawing-history-renderer.js';\n\nimport TestData from '../images/drw_1432296509856_base_ALL.json';\n\n\nlet canvas = document.getElementById(\"test-canvas\");\nlet ctx = canvas.getContext(\"2d\");\nctx.clearRect(0, 0, canvas.width, canvas.height);\n\nconsole.log(`getTimer: ${getTimer()}`);\nconsole.log(`point: ${new Point().toString()}`);\n\nlet test_sprite = new WwSprite(1, 2);\nconsole.log(`WwSprite: ${test_sprite}`);\ntest_sprite.loadImageWithURLAndCallback('./images/player.png', onSpriteImageLoaded);\n\nlet test_brush = new WwBrush();\nconsole.log(`WwBrush: ${test_brush}`);\ntest_brush.loadImageWithURLAndCallback('./images/brushes/brush_circle.png', onBrushImageLoaded);\n\nlet test_point1 = new Point(0,0);\nlet test_point2 = new Point(1,1);\nconsole.log(`Distance between points: ${Point.distance(test_point1,test_point2)}`);\n\nlet device_info = WwDeviceInfo.instance;\nconsole.log(`DeviceInfo: AssetScaleFactor: ${device_info.assetScaleFactor}`);\n\nlet brush_command = new WwDrawingHistoryBrushCommand('hard', new Point(100, 100),  getTimer());\nconsole.log(`${brush_command.toString()}`);\n\nlet drawing_history_unit = new WwDrawingHistoryUnit();\nlet test_unit = TestData.units[0];\nlet test_commands = test_unit.commands;\nlet base_command = new WwDrawingHistoryBrushCommand('hard', new Point(0,0));\ntest_commands.forEach(data_object => {\n    //let command = new WwDrawingHistoryBrushCommand(c.bid, new Point(c.x, c.y), c.t, c.c, c.s, 1.0, c.bm, c.a, c.r, c.lid);\n    let command = WwDrawingHistoryBrushCommand.clone(base_command, data_object);\n\n    drawing_history_unit.addCommand(command);\n    base_command = command;\n});\nconsole.log(drawing_history_unit.toString());\n\nWwDrawingBrushManager.instance.init(onBrushesLoaded);\n\nfunction onBrushesLoaded(brushes) {\n    console.log(`onBrushesLoaded: ${brushes}`);\n\n    let history = new WwDrawingHistory();\n    history.addUnit(drawing_history_unit);\n    //console.log(history.toString());\n\n    let renderer = new WwDrawingHistoryRenderer(history, ctx);\n    renderer.testBrush = test_brush;\n    //renderer.renderHistory();\n    //renderer.renderHistoryWithTimeRange(0, 2000);\n    renderer.renderHistoryWithDuration(500);\n\n    let intervalId = setInterval(() => {\n        if (renderer.ended) {\n            clearInterval(intervalId);\n        }\n        else {\n            renderer.renderHistoryWithDuration(100);\n        }\n    }, 33);\n}\n\nfunction onSpriteImageLoaded(sprite) {\n    console.log(`onSpriteImageLoaded: ${sprite}`);\n    sprite.draw(ctx);\n}\n\nfunction onBrushImageLoaded(brush) {\n    console.log(`onBrushImageLoaded: ${brush}`);\n    brush.draw(ctx);\n}\n\n\nexport default {Point, getTimer};"],"sourceRoot":"/source/"}