{"version":3,"sources":["ww-drawing-history-loader.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;gCAI6B,sBAAsB;;;;oCAClB,2BAA2B;;;;4CACnB,oCAAoC;;;;qBAC3D,SAAS;;;;IAErB,sBAAsB;AACb,aADT,sBAAsB,GACV;8BADZ,sBAAsB;;AAEpB,YAAI,CAAC,OAAO,GAAG,IAAI,CAAC;KAEvB;;iBAJC,sBAAsB;;eAMR,0BAAC,IAAI,EAAE;;;AACnB,gBAAI,CAAC,OAAO,GAAG,mCAAsB,CAAC;AACtC,gBAAI,YAAY,GAAG,8CAAiC,MAAM,EAAE,uBAAU,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC;;AAE5E,gBAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAA,SAAS,EAAI;AAC5B,oBAAI,IAAI,GAAG,uCAA0B,CAAC;AACtC,oBAAI,CAAC,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC;AAC7B,oBAAI,CAAC,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC;AAC/B,oBAAI,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC;AACjC,oBAAI,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC;;AAGvB,yBAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,YAAY,EAAI;AACvC,wBAAI,CAAC,YAAY,CAAC,CAAC,EAAE;AACjB,oCAAY,CAAC,CAAC,GAAG,CAAC,CAAC;qBACtB;AACD,wBAAI,OAAO,GAAG,0CAA6B,KAAK,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;;AAE7E,wBAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AACzB,gCAAY,GAAG,OAAO,CAAC;iBAC1B,CAAC,CAAC;AACH,sBAAK,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aAC9B,CAAC,CAAC;SAEN;;;WA9BC,sBAAsB;;;qBAiCb,sBAAsB","file":"ww-drawing-history-loader.js","sourcesContent":["/**\n * Created by andrew on 8/24/15.\n */\n\nimport WwDrawingHistory from './ww-drawing-history';\nimport WwDrawingHistoryUnit from './ww-drawing-history-unit';\nimport WwDrawingHistoryBrushCommand from './ww-drawing-history-brush-command';\nimport Point from './point';\n\nclass WwDrawingHistoryLoader {\n    constructor() {\n        this.history = null;\n\n    }\n\n    parseDrawingData(data) {\n        this.history = new WwDrawingHistory();\n        let base_command = new WwDrawingHistoryBrushCommand('hard', new Point(0,0));\n\n        data.units.forEach(unit_data => {\n            let unit = new WwDrawingHistoryUnit();\n            unit.layerId = unit_data.lid;\n            unit.sessionId = unit_data.ses;\n            unit.startTime = unit_data.start;\n            unit.id = unit_data.id;\n\n\n            unit_data.commands.forEach(command_data => {\n                if (!command_data.t) {\n                    command_data.t = 0;\n                }\n                let command = WwDrawingHistoryBrushCommand.clone(base_command, command_data);\n                //console.log(command.toStringMin());\n                unit.addCommand(command);\n                base_command = command;\n            });\n            this.history.addUnit(unit);\n        });\n\n    }\n}\n\nexport default WwDrawingHistoryLoader;\n"],"sourceRoot":"/source/"}